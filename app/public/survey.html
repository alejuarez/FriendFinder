<!DOCTYPE html>
<html lang='en'>

<head>
	<meta charset='utf-8'>
	<meta http-equiv='X-UA-Compatible' content='ie=edge'>
	<meta name='viewport' content='width=device-width, initial-scale=1.0'>

	<title>Friend Finder - Survey</title>
	<link rel='stylesheet' href='https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css' integrity='sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO'
	 crossorigin='anonymous'>

	<script src='https://code.jquery.com/jquery-3.3.1.min.js'></script>
	<script src='https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js' integrity='sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49'
	 crossorigin='anonymous'></script>
	<script src='https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js' integrity='sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy'
	 crossorigin='anonymous'></script>

</head>

<body>
	<div class='container'>
		<div class='jumbotron'>
			<h1>Survey Questions</h1><br>
			<h3><strong>About You</strong></h3>
			<div class='form-group'>
				<label for='name'>Name (Required)</label>
				<input type='text' class='form-control' placeholder='Your Name' id='name' name='name' required>
			</div>
			<div class='form-group'>
				<label for='photo'>Link to Photo Image (Required)</label>
				<input type='text' class='form-control' placeholder='http://coolpic.jpg' id='photo' name='photo' required>
			</div>
			<h4><strong>Question 1</strong></h4>
			<div class='form-group'>
				<label for='quest1'>You like to travel</label>
				<br>
				<div class='col-md-4'>
					<select class='form-controlq' id='quest1'>
						<option value='1'>1 (Strongly Disagree)</option>
						<option value='2'>2</option>
						<option value='3'>3</option>
						<option value='4'>4</option>
						<option value='5'>5 (Strongly Agree)</option>
					</select>
				</div>
			</div>
			<h4><strong>Question 2</strong></h4>
			<div class='form-group'>
				<label for='quest2'>You like to be organized</label>
				<br>
				<div class='col-md-4'>
					<select class='form-controlq' id='quest2'>
						<option value='1'>1 (Strongly Disagree)</option>
						<option value='2'>2</option>
						<option value='3'>3</option>
						<option value='4'>4</option>
						<option value='5'>5 (Strongly Agree)</option>
					</select>
				</div>
			</div>
			<h4><strong>Question 3</strong></h4>
			<div class='form-group'>
				<label for='quest3'>You love to hang out with your friends</label>
				<br>
				<div class='col-md-4'>
					<select class='form-controlq' id='quest3'>
						<option value='1'>1 (Strongly Disagree)</option>
						<option value='2'>2</option>
						<option value='3'>3</option>
						<option value='4'>4</option>
						<option value='5'>5 (Strongly Agree)</option>
					</select>
				</div>
			</div>
			<h4><strong>Question 4</strong></h4>
			<div class='form-group'>
				<label for='quest4'>You can keep a secret</label>
				<br>
				<div class='col-md-4'>
					<select class='form-controlq' id='quest4'>
						<option value='1'>1 (Strongly Disagree)</option>
						<option value='2'>2</option>
						<option value='3'>3</option>
						<option value='4'>4</option>
						<option value='5'>5 (Strongly Agree)</option>
					</select>
				</div>
			</div>
			<h4><strong>Question 5</strong></h4>
			<div class='form-group'>
				<label for='quest5'>You like to go camping</label>
				<br>
				<div class='col-md-4'>
					<select class='form-controlq' id='quest5'>
						<option value='1'>1 (Strongly Disagree)</option>
						<option value='2'>2</option>
						<option value='3'>3</option>
						<option value='4'>4</option>
						<option value='5'>5 (Strongly Agree)</option>
					</select>
				</div>
			</div>
			<h4><strong>Question 6</strong></h4>
			<div class='form-group'>
				<label for='quest6'>You like to go to the movies</label>
				<br>
				<div class='col-md-4'>
					<select class='form-controlq' id='quest6'>
						<option value='1'>1 (Strongly Disagree)</option>
						<option value='2'>2</option>
						<option value='3'>3</option>
						<option value='4'>4</option>
						<option value='5'>5 (Strongly Agree)</option>
					</select>
				</div>
			</div>
			<h4><strong>Question 7</strong></h4>

			<div class='form-group'>
				<label for='quest7'>You prefer long walks</label>
				<br>
				<div class='col-md-4'>
					<select class='form-controlq' id='quest7'>
						<option value='1'>1 (Strongly Disagree)</option>
						<option value='2'>2</option>
						<option value='3'>3</option>
						<option value='4'>4</option>
						<option value='5'>5 (Strongly Agree)</option>
					</select>
				</div>
			</div>
			<h4><strong>Question 8</strong></h4>
			<div class='form-group'>
				<label for='quest8'>You enjoy playing board games</label>
				<br>
				<div class='col-md-4'>
					<select class='form-controlq' id='quest8'>
						<option value='1'>1 (Strongly Disagree)</option>
						<option value='2'>2</option>
						<option value='3'>3</option>
						<option value='4'>4</option>
						<option value='5'>5 (Strongly Agree)</option>
					</select>
				</div>
			</div>
			<h4><strong>Question 9</strong></h4>
			<div class='form-group'>
				<label for='quest9'>You like to stay active playing sports</label>
				<br>
				<div class='col-md-4'>
					<select class='form-controlq' id='quest9'>
						<option value='1'>1 (Strongly Disagree)</option>
						<option value='2'>2</option>
						<option value='3'>3</option>
						<option value='4'>4</option>
						<option value='5'>5 (Strongly Agree)</option>
					</select>
				</div>
			</div>
			<h4><strong>Question 10</strong></h4>
			<div class='form-group'>
				<label for='quest10'>You like to watch sunsets</label>
				<br>
				<div class='col-md-4'>
					<select class='form-controlq' id='quest10'>
						<option value='1'>1 (Strongly Disagree)</option>
						<option value='2'>2</option>
						<option value='3'>3</option>
						<option value='4'>4</option>
						<option value='5'>5 (Strongly Agree)</option>
					</select>
				</div>
			</div><br>
			<button type='submit' class='btn btn-primary btn-lg btn-block' value='Request Friend' id='submit'>Submit</button>
		</div>

		<br>
		<footer class='footer'>
			<div class='container'>
				<p> <a href='/api/friends'>API Friends List</a> | <a href='http://github.com/alejuarez'>Github Repo</a></p>
			</div>
		</footer>
	</div>

	<div id='resultsModal' class='modal fade' role='dialog'>
		<div class='modal-dialog'>
			<div class='modal-content'>
				<div class='modal-header'>
					<h3 class='modal-title'>Your New Best Friend</h1>
				</div>
				<div class='modal-body'>
					<h2 id='matchName'></h2>
					<img id='matchImg' src='http://www.smartdoglover.com/wp-content/uploads/2017/01/Teddy-Bear-Puppies.jpg' alt=''
					 width=250px>
				</div>
				<div class='modal-footer'>
					<button type='button' class='btn btn-default' data-dismiss='modal'>Close</button>
				</div>
			</div>
		</div>
	</div>

	<script src='https://code.jquery.com/jquery-3.3.1.min.js'></script>
	<script src='https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js' integrity='sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49'
	 crossorigin='anonymous'></script>
	<script src='https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js' integrity='sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy'
	 crossorigin='anonymous'></script>

	<script type='text/javascript'>
		$(document).ready(function () {
			$('#submit').on('click', function () {
				function validateNew() {
					var isValid = true;
					if (($('#name').val() === '') || ($('#photo').val() === '')) {
						isValid = false;
					};
					$('form-controlq').each(function () {
						if ($(this).val() === '') {
							isValid = false;
						}
					});
					console.log(isValid);
					return isValid;
				};

				if (validateNew() === true) {
					var userInput = {
						name: $('#name').val().trim(),
						photo: $('#photo').val().trim(),
						scores: [$('#quest1').val(), $('#quest2').val(), $('#quest3').val(), $('#quest4').val(), $('#quest5').val(), $('#quest6').val(), $('#quest7').val(), $('#quest8').val(), $('#quest9').val(), $('#quest10').val()]
					};
					var currentURL = window.location.origin;
					console.log('user inp =', userInput);

					$.post(currentURL + '/api/friends', userInput, function (data) {
						$('#matchName').text(data.name);
						$('#matchImg').attr('src', data.photo);
					});
					$('#resultsModal').modal('toggle');
					$('#name').val('');
					$('#photo').val('');
					$('#quest1').val('');
					$('#quest2').val('');
					$('#quest3').val('');
					$('#quest4').val('');
					$('#quest5').val('');
					$('#quest6').val('');
					$('#quest7').val('');
					$('#quest8').val('');
					$('#quest9').val('');
					$('#quest10').val('');

				} else {
					alert('Please complete missing fields');
				}
			});
		});

	</script>
</body>

</html>